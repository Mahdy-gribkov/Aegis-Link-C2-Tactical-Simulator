<Window x:Class="AegisLink.App.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:converters="clr-namespace:AegisLink.App.Converters"
        Title="AEGIS-LINK | TACTICAL C2 INTERFACE" Height="700" Width="1200"
        Background="#0A0A0A" Foreground="#E0E0E0"
        WindowStartupLocation="CenterScreen">

    <Window.Resources>
        <converters:BatteryToColorConverter x:Key="BatteryToColorConverter"/>
        <ResourceDictionary Source="Resources.xaml"/>
    </Window.Resources>

    <Viewbox Stretch="Uniform">
        <Grid Width="1200" Height="700">
            <Grid.RowDefinitions>
                <RowDefinition Height="60"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="200"/>
                <RowDefinition Height="30"/>
            </Grid.RowDefinitions>

            <Border Grid.Row="0" Background="#111111" BorderBrush="#00FFFF" BorderThickness="0,0,0,2">
                <Grid Margin="20,0">
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <TextBlock Text="◢ AEGIS-LINK" FontSize="24" FontWeight="Bold" Foreground="#00FFFF" FontFamily="Consolas"/>
                        <TextBlock Text=" | TACTICAL C2 INTERFACE" FontSize="18" Foreground="#888888" Margin="10,0,0,0" VerticalAlignment="Center"/>
                    </StackPanel>
                    <TextBlock Text="{StaticResource StatusNominal}" FontSize="14" Foreground="#00FF00" HorizontalAlignment="Right" VerticalAlignment="Center" FontFamily="Consolas"/>
                </Grid>
            </Border>

            <Grid Grid.Row="1" Margin="20">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <Border Grid.Column="0" Background="#0F0F0F" BorderBrush="#00FFFF" BorderThickness="1" Margin="0,0,10,0" Padding="20">
                    <StackPanel>
                        <TextBlock Text="▸ TELEMETRY DATA" FontSize="16" Foreground="#00FFFF" Margin="0,0,0,20" FontFamily="Consolas"/>
                        
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Row="0" Grid.Column="0" Margin="0,0,0,30">
                                <TextBlock Text="{StaticResource LabelAzimuth}" FontSize="12" Foreground="#666666" FontFamily="Consolas"/>
                                <TextBlock Text="{Binding Azimuth, StringFormat=N2}" FontSize="32" FontWeight="Bold" Foreground="#FFB000" FontFamily="Consolas"/>
                            </StackPanel>

                            <StackPanel Grid.Row="0" Grid.Column="1" Margin="0,0,0,30">
                                <TextBlock Text="{StaticResource LabelElevation}" FontSize="12" Foreground="#666666" FontFamily="Consolas"/>
                                <TextBlock Text="{Binding Elevation, StringFormat=N2}" FontSize="32" FontWeight="Bold" Foreground="#FFB000" FontFamily="Consolas"/>
                            </StackPanel>
                        </Grid>
                    </StackPanel>
                </Border>

                <Border Grid.Column="1" Background="#0F0F0F" BorderBrush="#00FFFF" BorderThickness="1" Margin="10,0,0,0" Padding="20">
                    <StackPanel>
                        <TextBlock Text="▸ SYSTEM HEALTH" FontSize="16" Foreground="#00FFFF" Margin="0,0,0,20" FontFamily="Consolas"/>

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0" Margin="0,0,0,30">
                                <TextBlock Text="{StaticResource LabelBattery}" FontSize="12" Foreground="#666666" FontFamily="Consolas"/>
                                <TextBlock Text="{Binding BatteryLevel, StringFormat={}{0}%}" 
                                           FontSize="32" FontWeight="Bold" 
                                           Foreground="{Binding BatteryLevel, Converter={StaticResource BatteryToColorConverter}}" 
                                           FontFamily="Consolas"/>
                            </StackPanel>

                            <StackPanel Grid.Column="1" Margin="0,0,0,30">
                                <TextBlock Text="{StaticResource LabelSignal}" FontSize="12" Foreground="#666666" FontFamily="Consolas"/>
                                <TextBlock Text="{Binding SignalStrength, StringFormat=N0}" FontSize="32" FontWeight="Bold" Foreground="#00FFFF" FontFamily="Consolas"/>
                            </StackPanel>
                        </Grid>

                        <Button Content="{StaticResource ButtonSendPing}" Command="{Binding SendPingCommand}" 
                                Margin="0,20,0,0" Padding="20,12" 
                                Background="#003333" Foreground="#00FFFF" 
                                BorderBrush="#00FFFF" BorderThickness="1" 
                                FontFamily="Consolas" FontSize="14" FontWeight="Bold"/>
                        
                        <ToggleButton Content="{StaticResource ButtonSimulation}" 
                                      IsChecked="{Binding IsSimulationActive}" 
                                      Command="{Binding ToggleSimulationCommand}" 
                                      Margin="0,10,0,0" Padding="20,12" 
                                      Background="#1A1A1A" Foreground="#888888" 
                                      BorderBrush="#444444" BorderThickness="1" 
                                      FontFamily="Consolas" FontSize="12"/>
                    </StackPanel>
                </Border>
            </Grid>

            <Border Grid.Row="2" Background="#0A0A0A" BorderBrush="#00FFFF" BorderThickness="0,1,0,0" Padding="20">
                <DockPanel>
                    <TextBlock DockPanel.Dock="Top" Text="▸ COMMAND LOG" FontSize="14" Foreground="#00FFFF" Margin="0,0,0,10" FontFamily="Consolas"/>
                    <ListBox ItemsSource="{Binding CommandLog}" 
                             Background="Transparent" BorderThickness="0" 
                             Foreground="#00FF00" FontFamily="Consolas" FontSize="11">
                        <ListBox.ItemContainerStyle>
                            <Style TargetType="ListBoxItem">
                                <Setter Property="Padding" Value="0,2"/>
                                <Setter Property="Margin" Value="0"/>
                            </Style>
                        </ListBox.ItemContainerStyle>
                    </ListBox>
                </DockPanel>
            </Border>

            <Border Grid.Row="3" Background="#111111" BorderBrush="#00FFFF" BorderThickness="0,1,0,0">
                <Grid Margin="20,0">
                    <TextBlock Text="{StaticResource SystemStatus}" FontSize="10" Foreground="#666666" VerticalAlignment="Center" FontFamily="Consolas"/>
                    <TextBlock Text="SYSTEM ID: AEGIS-LINK | OPERATOR: M. GRIBKOV" FontSize="10" Foreground="#5500FFFF" HorizontalAlignment="Right" VerticalAlignment="Center" FontFamily="Consolas"/>
                </Grid>
            </Border>
        </Grid>
    </Viewbox>
</Window>
